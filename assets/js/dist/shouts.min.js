"use strict";(()=>{const e=document.querySelector("#shouts ul.shouts"),t=document.querySelector("#shouts textarea#shout_area"),n=document.querySelector("#shouts button#send_shout"),o=()=>{fetch("/shouts").then((e=>e.json())).then((t=>{t&&(e.innerHTML="",t.forEach((t=>e.append(((e,t,n)=>{let o=document.createElement("li");o.classList.add("shout");let s=document.createElement("span");s.classList.add("author"),s.innerText=e;let a=document.createElement("time");a.classList.add("time"),a.innerText=new Date(t).toLocaleString("en-GB");let r=document.createElement("p");return r.classList.add("body"),r.innerText=n,o.append(s),o.append(a),o.append(r),o})(t.author_name,t.created_at,t.body)))),e.scrollTop=e.scrollHeight)})).catch(console.error)},s=()=>{fetch("/shouts",{method:"post",body:JSON.stringify({body:t.value}),headers:{"Content-Type":"application/json"}}).then((()=>{o(),t.value=""})).catch(console.error)};o(),n.addEventListener("click",s),setInterval(o,3e3),t.addEventListener("keyup",(e=>{"Enter"===e.key&&(e.getModifierState("Shift")||e.getModifierState("Control"))&&s()}))})();
//# sourceMappingURL=shouts.min.js.map
